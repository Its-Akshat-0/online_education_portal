{% extends "base.html" %}
{% block title %}User Dashboard{% endblock %}

{% block content %}
<div class="user-dashboard">
  <div class="dashboard-header">
    <div class="login-logo">
      <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Online Education logo">
    </div>
    <div class="header-content">
      <h2>Welcome, {{ user.username }}!</h2>
      <a href="{{ url_for('auth.update_user') }}" class="update-profile-btn">Update Profile</a>
    </div>
  </div>

  <div class="dashboard-section">
    <h3>Your Enrollments</h3>
{% if enrollments %}
<table border="1" cellpadding="5">
  <tr><th>Course</th><th>Instructor</th><th>Status</th><th>Date</th></tr>
  {% for e in enrollments %}
  <tr>
    <td>{{ e.course.course_name }}</td>
    <td>{{ e.course.instructor.instructor_name }}</td>
    <td>{{ e.status }}</td>
    <td>{{ e.enrollment_date }}</td>
  </tr>
  {% endfor %}
</table>
{% else %}
<p>You have not enrolled in any courses yet.</p>
{% endif %}

<hr>

<h3>Available Courses</h3>
<table border="1" cellpadding="5">
  <tr><th>Name</th><th>Instructor</th><th>Duration</th><th>Action</th></tr>
  {% for c in courses %}
  <tr>
    <td>{{ c.course_name }}</td>
    <td>{{ c.instructor.instructor_name }}</td>
    <td>{{ c.duration }}</td>
    <td><a href="{{ url_for('auth.enroll', course_id=c.course_id) }}">Enroll</a></td>
  </tr>
  {% endfor %}
</table>
{% endblock %}
